<%
  var section = grunt.data.archieml.text.pages[id];
  var { metadata, slides } = section;
%>
<web-story id="<%= id %>"
  class="story-route <%= typeof suppress != "undefined" ? "exclude-random" : "" %>">
  <% if (metadata) {
    print(t.include("slides/_title.html", { metadata, id }));
  } %>
  <% for (var index = 0; index < slides.length; index++) {
    var slide = slides[index];
    print(t.include(`slides/_${slide.template || "generic"}.html`, { slide, id, index }));
  } %>
  <%= t.include("slides/_chooser.html", { id, metadata }) %>
</web-story>
