<%
  var slug = [id, slide.slug, index, "audio"].filter(d => d).join("-");
%>
<section data-slug="<%= slide.slug %>" id="<%= slug %>" class="audio">

  <shader-box class="backdrop" src="./assets/bokeh.glsl"></shader-box>

  <audio-visualizer class="backdrop" color="white" for="<%= slug %>-audio"></audio-visualizer>

  <div class="content">
    <%= t.renderMarkdown(slide.text) %>
    <div class="clips">
      <!-- <hr class="divider"> -->
      <div class="top">
        <media-controls for="<%= slug %>-audio">
          <%= slide.label || "" %>
        </media-controls>
        <audio
          id="<%= slug %>-audio"
          src="./assets/synced/audio/<%= slide.audio %>"
        >
          <% if (slide.captions) { %>
          <track default kind="captions" src="./assets/synced/audio/<%= slide.captions %>"></track>
          <% } %>
        </audio>
      </div>
    </div>
  </div>
</section>
